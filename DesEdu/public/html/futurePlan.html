<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>추천 교과목 & 포트폴리오</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #f9f9f9;
    }


    .header {
      display: flex;
      align-items: center;
      background-color: #fff;
      padding: 10px 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .logo { margin-right: 20px; }
    .logo img { height: 50px; cursor: pointer; }

    .dropdown { position: relative; }
    .dropdown-btn {
      background:#333;color:#fff;border:none;border-radius:5px;
      padding:10px 16px;cursor:pointer;font-size:14px;
    }
    .dropdown-content {
      display:none;position:absolute;min-width:180px;z-index:1;
      background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.15);
    }
    .dropdown-content a {
      padding:10px;display:block;text-decoration:none;color:#000;
      border-bottom:1px solid #eee;
    }
    .dropdown-content a:hover{background:#eee;}
    .dropdown:hover .dropdown-content{display:block;}

   
    .main-content{
      display:flex;gap:40px;padding:40px 30px;max-width:1800px;margin:0 auto;
    }
    .box{
      background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.08);min-height:300px;
    }
    .left-box{flex:3;}
    .right-box{flex:2.4;}

    .box-title{
      font-size:20px;font-weight:bold;margin-bottom:20px;
      border-bottom:2px solid #333;padding-bottom:8px;
    }


    table{width:100%;border-collapse:collapse;margin-top:10px;}
    th,td{border:1px solid #ccc;padding:10px;text-align:center;}
    th{background:#f0f0f0;}

    
    .portfolio-buttons{
      display:flex;gap:12px;margin-top:20px;flex-wrap:wrap;
    }
    .portfolio-btn{
      flex:1 1 120px;text-align:center;padding:12px 0;
      border:none;border-radius:8px;color:#fff;font-weight:bold;
      text-decoration:none;cursor:pointer;
    }
    .btn1{background:#ff6f61;}
    .btn2{background:#6a1b9a;}
    .btn3{background:#00897b;}
    .portfolio-btn:hover{opacity:.9;}
  </style>
</head>
<body>
  <!-- ── 헤더 ── -->
  <div class="header">
    <div class="logo"><a href="login.html"><img src="/images/logo.jpg" alt="DesEDU 로고"/></a></div>
    <div class="dropdown">
      <button class="dropdown-btn">메뉴</button>
      <div class="dropdown-content">
        <a href="syllabus.html">강의계획서 조회</a>
        <a href="courseRegistration.html">수강 신청</a>
        <a href="grade.html">성적 조회</a>
        <a href="gradeInput.html">성적 입력</a>
        <a href="myInfo.html">내 정보 수정</a>
        <a href="board.html">자유 게시판</a>
        <a href="futurePlan.html">진로 설계</a>
      </div>
    </div>
  </div>


  <div class="main-content">
  
    <div class="box left-box">
      <div class="box-title">추천 교과목</div>

      <label for="careerSelect">진로 선택:</label>
      <select id="careerSelect" style="margin-bottom: 15px; padding: 6px;">
        <option value="">-- 진로를 선택하세요 --</option>
      </select>

      <table>
        <thead>
          <tr><th>번호</th><th>교과명</th><th>이수현황</th></tr>
        </thead>
        <tbody id="courseTableBody">
          <tr><td colspan="3">진로를 선택해주세요.</td></tr>
        </tbody>
      </table>
    </div>

    <div class="box right-box">
      <div class="box-title">포트폴리오 작성하러가기</div>
      <div class="portfolio-buttons">
        <a href="https://sprint.codeit.kr/track/product-design?utm_source=google_paid&utm_medium=sa&utm_campaign=sa_product_design&utm_term=%EB%94%94%EC%9E%90%EC%9D%B8%20%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4&utm_content=product_design&gad_source=1&gad_campaignid=21932021164" target="_blank" class="portfolio-btn btn1">작성 사이트 1</a>
        <a href="https://www.miricanvas.com/ko/template/presentation/%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4?purpose=WEB" target="_blank" class="portfolio-btn btn2">작성 사이트 2</a>
        <a href="https://kmong.com/category/601?airbridge_referrer=airbridge%3Dtrue%26campaign%3D881067838%26campaign_id%3D881067838%26ad_group%3D68875099658%26ad_group_id%3D68875099658%26ad_creative%3D743779912505%26ad_creative_id%3D743779912505%26term%3D%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%EC%A0%9C%EC%9E%91%EC%82%AC%EC%9D%B4%ED%8A%B8%26sub_id%3Dg%26sub_id_1%3D%26sub_id_2%3D%26sub_id_3%3Db%26click_id%3DCjwKCAjwgb_CBhBMEiwA0p3oOBQ1lfs_wyDN623rCdyrQbwAolJe8hTt2hwjngpQTqs_wl2wfr8svRoC5G0QAvD_BwE%26gclid%3DCjwKCAjwgb_CBhBMEiwA0p3oOBQ1lfs_wyDN623rCdyrQbwAolJe8hTt2hwjngpQTqs_wl2wfr8svRoC5G0QAvD_BwE%26ad_type%3Dclick&utm_source=google.adwords&utm_campaign=06_IT%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_pc&utm_medium=Search&utm_term=%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4%EC%A0%9C%EC%9E%91%EC%82%AC%EC%9D%B4%ED%8A%B8&ad_creative_id=743779912505&ad_group=06_601_%ED%99%88%ED%8E%98%EC%9D%B4%EC%A7%80&campaign_id=881067838&sub_id=g&sub_id_1=&sub_id_2=&gad_source=1&gad_campaignid=881067838" target="_blank" class="portfolio-btn btn3">작성 사이트 3</a>
      </div>
    </div>
  </div>
  <script>
  // 진로 목록 불러오기
  fetch('/api/careers')
    .then(res => res.json())
    .then(data => {
      const select = document.getElementById('careerSelect');
      data.forEach(career => {
        const option = document.createElement('option');
        option.value = career.id;
        option.textContent = career.name;
        select.appendChild(option);
      });
    });

  // 진로 선택 시 추천 과목 불러오기
  document.getElementById('careerSelect').addEventListener('change', function () {
    const careerId = this.value;
    const tbody = document.getElementById('courseTableBody');
    tbody.innerHTML = '';

    if (!careerId) {
      tbody.innerHTML = '<tr><td colspan="3">진로를 선택해주세요.</td></tr>';
      return;
    }

    fetch(`/api/recommendations/${careerId}`)
      .then(res => res.json())
      .then(courses => {
        if (courses.length === 0) {
          tbody.innerHTML = '<tr><td colspan="3">추천 교과목이 없습니다.</td></tr>';
          return;
        }

        courses.forEach((course, index) => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${index + 1}</td>
            <td>${course.course_name}</td>
            <td>${course.status}</td>
          `;
          tbody.appendChild(row);
        });
      });
  });
</script>

</body>
</html>